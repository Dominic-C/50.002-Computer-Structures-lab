.include"/home/dominic/Documents/school/50002/nominal.jsim"
.include"/home/dominic/Documents/school/50002/stdcell.jsim"
.include"/home/dominic/Documents/school/50002/lab3multiply.jsim"

******************* 1 bit ADDER *************************
.subckt FA a b ci s co
X_first_Sum a b 5 xor2
X_Sum 5 ci s xor2
XfirstNand a b 1 nand2
XsecondNand a ci 2 nand2
XthirdNand b ci 3 nand2
XfinalNand 1 2 3 co nand3
.ends

.subckt alu ALUFN[5:0] A[31:0] B[31:0] alu[31:0] z v n
X_firstlayer A[31:0] B[0]#32 Z1Z[31:0] and2
.connect Z1Z[0] alu[0]

X_and1 A[30:0] B[1]#31 Z2Z[30:0] and2
X_FA_1 Z1Z[1] Z2Z[0] 0 alu[1] CO1C[0] FA
X_FA_1_rest Z1Z[31:2] Z2Z[30:1] CO1C[29:0] Z3Z[30:1] CO1[30:1] FA

X_and2 A[29:0] B[2]#30 Z4Z[29:0] and2
X_FA_2 Z3Z[1] Z4Z[0] 0 alu[2] CO2C[0] FA
X_FA_2_rest Z3Z[30:2] Z4Z[29:1] CO2C[28:0] Z5Z[29:1] CO2[29:1] FA

X_and3 A[28:0] B[3]#29 Z6Z[28:0] and2
X_FA_3 Z5Z[1] Z6Z[0] 0 alu[3] CO3C[0] FA
X_FA_3_rest Z5Z[29:2] Z6Z[28:1] CO3C[27:0] Z7Z[28:1] CO3[28:1] FA

X_and4 A[27:0] B[4]#28 Z8Z[27:0] and2
X_FA_4 Z7Z[1] Z8Z[0] 0 alu[4] CO4C[0] FA
X_FA_4_rest Z7Z[28:2] Z8Z[27:1] CO4C[26:0] Z9Z[27:1] CO4[27:1] FA

X_and5 A[26:0] B[5]#27 Z10Z[26:0] and2
X_FA_5 Z9Z[1] Z10Z[0] 0 alu[5] CO5C[0] FA
X_FA_5_rest Z9Z[27:2] Z10Z[26:1] CO5C[25:0] Z11Z[26:1] CO5[26:1] FA

X_and6 A[25:0] B[6]#26 Z12Z[25:0] and2
X_FA_6 Z11Z[1] Z12Z[0] 0 alu[6] CO6C[0] FA
X_FA_6_rest Z11Z[26:2] Z12Z[25:1] CO6C[24:0] Z13Z[25:1] CO6[25:1] FA

X_and7 A[24:0] B[7]#25 Z14Z[24:0] and2
X_FA_7 Z13Z[1] Z14Z[0] 0 alu[7] CO7C[0] FA
X_FA_7_rest Z13Z[25:2] Z14Z[24:1] CO7C[23:0] Z15Z[24:1] CO7[24:1] FA

X_and8 A[23:0] B[8]#24 Z16Z[23:0] and2
X_FA_8 Z15Z[1] Z16Z[0] 0 alu[8] CO8C[0] FA
X_FA_8_rest Z15Z[24:2] Z16Z[23:1] CO8C[22:0] Z17Z[23:1] CO8[23:1] FA

X_and9 A[22:0] B[9]#23 Z18Z[22:0] and2
X_FA_9 Z17Z[1] Z18Z[0] 0 alu[9] CO9C[0] FA
X_FA_9_rest Z17Z[23:2] Z18Z[22:1] CO9C[21:0] Z19Z[22:1] CO9[22:1] FA

X_and10 A[21:0] B[10]#22 Z20Z[21:0] and2
X_FA_10 Z19Z[1] Z20Z[0] 0 alu[10] CO10C[0] FA
X_FA_10_rest Z19Z[22:2] Z20Z[21:1] CO10C[20:0] Z21Z[21:1] CO10[21:1] FA

X_and11 A[20:0] B[11]#21 Z22Z[20:0] and2
X_FA_11 Z21Z[1] Z22Z[0] 0 alu[11] CO11C[0] FA
X_FA_11_rest Z21Z[21:2] Z22Z[20:1] CO11C[19:0] Z23Z[20:1] CO11[20:1] FA

X_and12 A[19:0] B[12]#20 Z24Z[19:0] and2
X_FA_12 Z23Z[1] Z24Z[0] 0 alu[12] CO12C[0] FA
X_FA_12_rest Z23Z[20:2] Z24Z[19:1] CO12C[18:0] Z25Z[19:1] CO12[19:1] FA

X_and13 A[18:0] B[13]#19 Z26Z[18:0] and2
X_FA_13 Z25Z[1] Z26Z[0] 0 alu[13] CO13C[0] FA
X_FA_13_rest Z25Z[19:2] Z26Z[18:1] CO13C[17:0] Z27Z[18:1] CO13[18:1] FA

X_and14 A[17:0] B[14]#18 Z28Z[17:0] and2
X_FA_14 Z27Z[1] Z28Z[0] 0 alu[14] CO14C[0] FA
X_FA_14_rest Z27Z[18:2] Z28Z[17:1] CO14C[16:0] Z29Z[17:1] CO14[17:1] FA

X_and15 A[16:0] B[15]#17 Z30Z[16:0] and2
X_FA_15 Z29Z[1] Z30Z[0] 0 alu[15] CO15C[0] FA
X_FA_15_rest Z29Z[17:2] Z30Z[16:1] CO15C[15:0] Z31Z[16:1] CO15[16:1] FA

X_and16 A[15:0] B[16]#16 Z32Z[15:0] and2
X_FA_16 Z31Z[1] Z32Z[0] 0 alu[16] CO16C[0] FA
X_FA_16_rest Z31Z[16:2] Z32Z[15:1] CO16C[14:0] Z33Z[15:1] CO16[15:1] FA

X_and17 A[14:0] B[17]#15 Z34Z[14:0] and2
X_FA_17 Z33Z[1] Z34Z[0] 0 alu[17] CO17C[0] FA
X_FA_17_rest Z33Z[15:2] Z34Z[14:1] CO17C[13:0] Z35Z[14:1] CO17[14:1] FA

X_and18 A[13:0] B[18]#14 Z36Z[13:0] and2
X_FA_18 Z35Z[1] Z36Z[0] 0 alu[18] CO18C[0] FA
X_FA_18_rest Z35Z[14:2] Z36Z[13:1] CO18C[12:0] Z37Z[13:1] CO18[13:1] FA

X_and19 A[12:0] B[19]#13 Z38Z[12:0] and2
X_FA_19 Z37Z[1] Z38Z[0] 0 alu[19] CO19C[0] FA
X_FA_19_rest Z37Z[13:2] Z38Z[12:1] CO19C[11:0] Z39Z[12:1] CO19[12:1] FA

X_and20 A[11:0] B[20]#12 Z40Z[11:0] and2
X_FA_20 Z39Z[1] Z40Z[0] 0 alu[20] CO20C[0] FA
X_FA_20_rest Z39Z[12:2] Z40Z[11:1] CO20C[10:0] Z41Z[11:1] CO20[11:1] FA

X_and21 A[10:0] B[21]#11 Z42Z[10:0] and2
X_FA_21 Z41Z[1] Z42Z[0] 0 alu[21] CO21C[0] FA
X_FA_21_rest Z41Z[11:2] Z42Z[10:1] CO21C[9:0] Z43Z[10:1] CO21[10:1] FA

X_and22 A[9:0] B[22]#10 Z44Z[9:0] and2
X_FA_22 Z43Z[1] Z44Z[0] 0 alu[22] CO22C[0] FA
X_FA_22_rest Z43Z[10:2] Z44Z[9:1] CO22C[8:0] Z45Z[9:1] CO22[9:1] FA

X_and23 A[8:0] B[23]#9 Z46Z[8:0] and2
X_FA_23 Z45Z[1] Z46Z[0] 0 alu[23] CO23C[0] FA
X_FA_23_rest Z45Z[9:2] Z46Z[8:1] CO23C[7:0] Z47Z[8:1] CO23[8:1] FA

X_and24 A[7:0] B[24]#8 Z48Z[7:0] and2
X_FA_24 Z47Z[1] Z48Z[0] 0 alu[24] CO24C[0] FA
X_FA_24_rest Z47Z[8:2] Z48Z[7:1] CO24C[6:0] Z49Z[7:1] CO24[7:1] FA

X_and25 A[6:0] B[25]#7 Z50Z[6:0] and2
X_FA_25 Z49Z[1] Z50Z[0] 0 alu[25] CO25C[0] FA
X_FA_25_rest Z49Z[7:2] Z50Z[6:1] CO25C[5:0] Z51Z[6:1] CO25[6:1] FA

X_and26 A[5:0] B[26]#6 Z52Z[5:0] and2
X_FA_26 Z51Z[1] Z52Z[0] 0 alu[26] CO26C[0] FA
X_FA_26_rest Z51Z[6:2] Z52Z[5:1] CO26C[4:0] Z53Z[5:1] CO26[5:1] FA

X_and27 A[4:0] B[27]#5 Z54Z[4:0] and2
X_FA_27 Z53Z[1] Z54Z[0] 0 alu[27] CO27C[0] FA
X_FA_27_rest Z53Z[5:2] Z54Z[4:1] CO27C[3:0] Z55Z[4:1] CO27[4:1] FA

X_and28 A[3:0] B[28]#4 Z56Z[3:0] and2
X_FA_28 Z55Z[1] Z56Z[0] 0 alu[28] CO28C[0] FA
X_FA_28_rest Z55Z[4:2] Z56Z[3:1] CO28C[2:0] Z57Z[3:1] CO28[3:1] FA

X_and29 A[2:0] B[29]#3 Z58Z[2:0] and2
X_FA_29 Z57Z[1] Z58Z[0] 0 alu[29] CO29C[0] FA
X_FA_29_rest Z57Z[3:2] Z58Z[2:1] CO29C[1:0] Z59Z[2:1] CO29[2:1] FA

X_and30 A[1:0] B[30]#2 Z60Z[1:0] and2
X_FA_30 Z59Z[1] Z60Z[0] 0 alu[30] CO30C[0] FA
X_FA_30_rest Z59Z[2:2] Z60Z[1:1] CO30C[0:0] Z61Z[1:1] CO30[1:1] FA

X_and31 A[0] B[31]#1 Z62Z[0] and2
X_FA_31 Z61Z[1] Z62Z[0] 0 alu[31] CO31C[0] FA

.ends
